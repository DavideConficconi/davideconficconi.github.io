function preload(){wordData=loadJSON("/assets/json/word_freq.json")}function setup(){createCanvas(windowWidth/2,windowHeight/2).parent("p5-container"),angleMode(RADIANS),textAlign(CENTER,CENTER),drawWords()}function windowResized(){resizeCanvas(windowWidth/2,windowHeight/2),placedWords=[],clear(),drawWords()}function drawWords(){background(255),placedWords=[];let t=wordData.data;t.sort(((t,e)=>e[1]-t[1]));let e=width/2,n=height/2,a=.035*min(width,height),o=.12*min(width,height);for(let d=0;d<t.length;d++){let[r,i]=t[d],s=map(i,t[t.length-1][1],t[0][1],a,o),w=[0,PI/4,PI/2,3*PI/4],h=!1,l=0,c=0;for(let t=0;t<1e3;t++){l+=.5,c+=.3;let t=e+l*cos(c),a=n+l*sin(c),o=random(w),d=getWordBBox(r,s,t,a,o);if(!isOverlapping(d)&&isInsideCanvas(d)){drawWord(r,s,t,a,o),placedWords.push(d),h=!0;break}}}}function drawWord(t,e,n,a,o){push(),translate(n,a),rotate(o),textSize(e),fill(random(60,160),random(60,160),random(60,160)),text(t,0,0),pop()}function getWordBBox(t,e,n,a,o){textSize(e);let d=textWidth(t),r=e;return{x:n,y:a,w:abs(d*cos(o))+abs(r*sin(o)),h:abs(d*sin(o))+abs(r*cos(o))}}function isOverlapping(t){for(let e of placedWords)if(abs(t.x-e.x)<(t.w+e.w)/2&&abs(t.y-e.y)<(t.h+e.h)/2)return!0;return!1}function isInsideCanvas(t){return t.x-t.w/2>=0&&t.y-t.h/2>=0&&t.x+t.w/2<=width&&t.y+t.h/2<=height}let wordData,placedWords=[];